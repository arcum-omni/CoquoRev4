@model CoquoRev4.Models.Dish

@{
	ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
	<h4>Dish</h4>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.DishName)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.DishName)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.DishDescription)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.DishDescription)
		</dd>

		<dt class="col-sm-2">
			Ingredient:
		</dt>
		<dd class="col-sm-10">
			@foreach (string i in ViewBag.DishIngredients) 
			{
				@i<br />
			}
		</dd>

	</dl>
</div>

@* add new ingredient to Ingredients*@
<form asp-action="AddToIngredient">
	Add Ingredient <input type="text" />
</form>

<br />
<br />

@* add ingredient from ingredients to dish*@
<form>
    <input type="hidden" name="dish-id" value="@Model.DishID" />
    @foreach (Ingredient i in ViewBag.Ingredient)
    {
        <div>
			@i.IngredientName
		</div>
        <a class="btn btn-secondary text-light" type="submit" asp-action="AddIngredientToDish" asp-controller="Dishes"
           asp-route-dishId="@Model.DishID" asp-route-ingredientId="@i.IngredientID">
            Add Ingredient
        </a><br />
		<br />
    }

        @*
            Psuedo Code:
            get new ingredient ID from form
            cook new ingredient into this dish ID
            refresh page to show DB changes
        *@

        @*<input type="submit" />*@
    </form>

<div>
	<a asp-action="Edit" asp-route-id="@Model.DishID">Edit</a> |
	<a asp-action="Index">Back to List</a>
</div>
